{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport fetch from 'isomorphic-unfetch';\n\nvar Pixy =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Pixy, _React$Component);\n\n  function Pixy(props, context) {\n    var _this;\n\n    _classCallCheck(this, Pixy);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pixy).call(this, props, context));\n    _this.state = {\n      checked: false\n    };\n    _this.count = 0;\n    _this.data = [];\n    _this.width = 0;\n    _this.height = 0;\n    _this.left = 0;\n    _this.top = 0;\n    _this.seq = -4;\n    _this.boxes = [];\n    return _this;\n  }\n\n  _createClass(Pixy, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.interval = setInterval(function () {\n        return _this2.render();\n      }, 750);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.interval);\n    } //This sends a json string with just a cmd specified to the robot\n\n  }, {\n    key: \"sendCmd\",\n    value: function sendCmd() {\n      var ip = \"http://localhost:3000/getPixyData\";\n      return fetch(ip).then(function (resp) {\n        return resp.json();\n      }).then(function (data) {\n        return data;\n      });\n    }\n  }, {\n    key: \"pixyBoxInfo\",\n    value: function () {\n      var _pixyBoxInfo = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var myJson, i;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.sendCmd();\n\n              case 2:\n                myJson = _context.sent;\n                //extract JSON from the http response\n                // let myJson = JSON.parse('{\"C\": 3, \"H1\": 6, \"H2\": 4, \"S2\": 1, \"H0\": 39, \"S0\": 1, \"X2\": 291, \"W2\": 14, \"W1\": 14, \"W0\": 62, \"Y1\": 56, \"Y0\": 139, \"X0\": 283, \"X1\": 135, \"S1\": 1, \"Y2\": 112}');\n                //let myJson = JSON.parse('{\"C\": 1, \"H0\": 39, \"S0\": 1, \"W0\": 62, \"Y0\": 139, \"X0\": 283}');\n                //myJson = JSON.stringify(myJson);\n                this.setState(myJson);\n                this.count = myJson[\"C\"];\n                console.log(this.count);\n\n                for (i = 0; i < this.count; i++) {\n                  this.width = myJson[\"W\" + i] / 320;\n                  this.height = myJson[\"H\" + i] / 200;\n                  this.left = myJson[\"X\" + i] / 320 - this.width / 2;\n                  this.top = myJson[\"Y\" + i] / 200 - this.height / 2;\n                  this.data = [this.width, this.height, this.left, this.top];\n                  console.log(\"Creating box\");\n                  this.boxes[i] = this.data;\n                }\n\n                console.log(this.boxes);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function pixyBoxInfo() {\n        return _pixyBoxInfo.apply(this, arguments);\n      }\n\n      return pixyBoxInfo;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.pixyBoxInfo();\n      console.log(\"rendering\");\n      return React.createElement(\"div\", {\n        className: \"jsx-1319842157\" + \" \" + \"pixyView\"\n      }, React.createElement(\"header\", {\n        id: \"lunaHeader\",\n        className: \"jsx-1319842157\"\n      }, \"\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~ Pixy View ~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022\"), React.createElement(\"div\", {\n        id: \"pixyViewBox\",\n        className: \"jsx-1319842157\"\n      }, this.boxes.map(function (box, i) {\n        console.log(box[0]);\n        return React.createElement(\"div\", {\n          style: {\n            color: 'black',\n            position: 'absolute',\n            border: '1px solid black',\n            backgroundColor: '#f4f4f4',\n            zIndex: 99999999999999,\n            width: box[0] * 100 + '%',\n            height: box[1] * 100 + '%',\n            left: box[2] * 100 + '%',\n            top: box[3] * 100 + '%'\n          },\n          className: \"jsx-1319842157\"\n        });\n      })), React.createElement(_JSXStyle, {\n        id: \"1319842157\"\n      }, \"html.jsx-1319842157,body.jsx-1319842157{margin:0;width:100%;height:100%;overflow-y:hidden;}#pixyView.jsx-1319842157{width:100%;float:center;height:25px;margin:0px;position:relative;}#lunaHeader.jsx-1319842157{color:rgb(206,206,206);width:100%;height:35px;background-color:#333333;font-size:25px;text-align:center;border-bottom:solid black 1px;box-shadow:0px 0px 5px #888888;}#pixyViewBox.jsx-1319842157{width:100%;height:315px;background:rgb(71,68,68);margin:0px;position:relative;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90b21hc3NhbmRzdHJvbS9EZXNrdG9wL0x1bmFjYXRzL0x1bmFjYXRzTm9kZVNlcnZlci9wdWJsaWMvY29tcG9uZW50cy9QaXh5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlGc0IsQUFHNEIsQUFNQyxBQU9lLEFBVWYsU0F0QkMsRUFNQyxBQWlCQyxTQXRCRCxHQVlELENBTkMsQUFpQmUsUUF0QlQsRUFZTixFQU5ELFVBT2MsQ0FOUCxFQWdCUCxDQXRCYixVQXVCb0IsS0FoQnBCLE1BTWlCLE9BV2pCLFFBVm9CLGtCQUNZLDhCQUNDLCtCQUNqQyIsImZpbGUiOiIvVXNlcnMvdG9tYXNzYW5kc3Ryb20vRGVza3RvcC9MdW5hY2F0cy9MdW5hY2F0c05vZGVTZXJ2ZXIvcHVibGljL2NvbXBvbmVudHMvUGl4eS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLXVuZmV0Y2gnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpeHkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XG4gIFxuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgY2hlY2tlZDogZmFsc2VcbiAgICAgIH07XG4gICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgICB0aGlzLmxlZnQgPSAwO1xuICAgICAgdGhpcy50b3AgPSAwO1xuICAgICAgdGhpcy5zZXEgPSAtNDtcbiAgICAgIHRoaXMuYm94ZXMgPSBbXTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnJlbmRlcigpLCA3NTApO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcbiAgICB9XG4gIFxuICAgIC8vVGhpcyBzZW5kcyBhIGpzb24gc3RyaW5nIHdpdGgganVzdCBhIGNtZCBzcGVjaWZpZWQgdG8gdGhlIHJvYm90XG4gICAgc2VuZENtZCgpIHtcbiAgICAgIGNvbnN0IGlwID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvZ2V0UGl4eURhdGFcIjtcbiAgICAgIHJldHVybiAgZmV0Y2goaXApLnRoZW4oKHJlc3ApID0+IHJlc3AuanNvbigpKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIFxuICAgICAgfSlcbiAgXG4gICAgfVxuICBcbiAgICBhc3luYyBwaXh5Qm94SW5mbygpIHtcbiAgICAgIC8vY29uc3QgZ2V0UGl4eUluZm9DbWQgPSA1O1xuICAgICAgIGxldCBteUpzb24gPSBhd2FpdCB0aGlzLnNlbmRDbWQoKTsgLy9leHRyYWN0IEpTT04gZnJvbSB0aGUgaHR0cCByZXNwb25zZVxuICAgICAgLy8gbGV0IG15SnNvbiA9IEpTT04ucGFyc2UoJ3tcIkNcIjogMywgXCJIMVwiOiA2LCBcIkgyXCI6IDQsIFwiUzJcIjogMSwgXCJIMFwiOiAzOSwgXCJTMFwiOiAxLCBcIlgyXCI6IDI5MSwgXCJXMlwiOiAxNCwgXCJXMVwiOiAxNCwgXCJXMFwiOiA2MiwgXCJZMVwiOiA1NiwgXCJZMFwiOiAxMzksIFwiWDBcIjogMjgzLCBcIlgxXCI6IDEzNSwgXCJTMVwiOiAxLCBcIlkyXCI6IDExMn0nKTtcbiAgICAgIC8vbGV0IG15SnNvbiA9IEpTT04ucGFyc2UoJ3tcIkNcIjogMSwgXCJIMFwiOiAzOSwgXCJTMFwiOiAxLCBcIlcwXCI6IDYyLCBcIlkwXCI6IDEzOSwgXCJYMFwiOiAyODN9Jyk7XG4gICAgICAvL215SnNvbiA9IEpTT04uc3RyaW5naWZ5KG15SnNvbik7XG4gICAgICBcbiAgICAgIFxuICAgICAgdGhpcy5zZXRTdGF0ZShteUpzb24pXG4gICAgICB0aGlzLmNvdW50ID0gbXlKc29uW1wiQ1wiXTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY291bnQpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvdW50OyBpKyspIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IG15SnNvbltcIldcIiArIGldIC8gMzIwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IG15SnNvbltcIkhcIiArIGldIC8gMjAwO1xuICAgICAgICB0aGlzLmxlZnQgPSBteUpzb25bXCJYXCIgKyBpXSAvIDMyMCAtIHRoaXMud2lkdGggLyAyO1xuICAgICAgICB0aGlzLnRvcCA9IG15SnNvbltcIllcIiArIGldIC8gMjAwIC0gdGhpcy5oZWlnaHQgLyAyO1xuICAgICAgICB0aGlzLmRhdGEgPSBbdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMubGVmdCwgdGhpcy50b3BdO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIGJveFwiKVxuICAgICAgICB0aGlzLmJveGVzW2ldID0gdGhpcy5kYXRhO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2codGhpcy5ib3hlcyk7XG4gICAgfVxuICBcbiAgICByZW5kZXIoKSB7XG4gICAgICBcbiAgICAgIHRoaXMucGl4eUJveEluZm8oKTtcbiAgICAgIGNvbnNvbGUubG9nKFwicmVuZGVyaW5nXCIpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBpeHlWaWV3XCI+XG4gICAgICAgICAgPGhlYWRlciBpZD1cImx1bmFIZWFkZXJcIj7igKJ+4oCifuKAon7igKJ+4oCifuKAon7igKJ+4oCifuKAon4gUGl4eSBWaWV3IH7igKJ+4oCifuKAon7igKJ+4oCifuKAon7igKJ+4oCifuKAojwvaGVhZGVyPlxuICAgICAgICAgIDxkaXYgaWQ9XCJwaXh5Vmlld0JveFwiPnt0aGlzLmJveGVzLm1hcCgoYm94LCBpKSA9PiB7Y29uc29sZS5sb2coYm94WzBdKTtyZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17e2NvbG9yOiAnYmxhY2snLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIGJsYWNrJyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Y0ZjRmNCcsXG4gICAgICAgICAgICAgIHpJbmRleDogOTk5OTk5OTk5OTk5OTksXG4gICAgICAgICAgICAgIHdpZHRoOiBib3hbMF0gKiAxMDAgKyAnJScsXG4gICAgICAgICAgICAgIGhlaWdodDogYm94WzFdICogMTAwICsgJyUnLFxuICAgICAgICAgICAgICBsZWZ0OiBib3hbMl0gKiAxMDAgKyAnJScsXG4gICAgICAgICAgICAgIHRvcDogYm94WzNdICogMTAwICsgJyUnLH19PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX0pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgICBodG1sLCBib2R5IHtcbiAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgICAgb3ZlcmZsb3cteTogaGlkZGVuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAjcGl4eVZpZXcge1xuICAgICAgICAgICAgICAgICAgd2lkdGg6MTAwJTsgXG4gICAgICAgICAgICAgICAgICBmbG9hdDpjZW50ZXI7IFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyNXB4O1xuICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwcHg7XG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICNsdW5hSGVhZGVye1xuICAgICAgICAgICAgICAgICAgY29sb3I6IHJnYigyMDYsIDIwNiwgMjA2KTtcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzNXB4O1xuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMzMzMztcbiAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjVweDtcbiAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IHNvbGlkIGJsYWNrIDFweDtcbiAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggNXB4ICM4ODg4ODg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICNwaXh5Vmlld0JveCB7XG4gICAgICAgICAgICAgICAgICB3aWR0aDoxMDAlO1xuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzMTVweDtcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYig3MSwgNjgsIDY4KTtcbiAgICAgICAgICAgICAgICAgIG1hcmdpbjogMHB4O1xuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICApXG4gICAgICBcbiAgICB9XG4gIH0iXX0= */\\n/*@ sourceURL=/Users/tomassandstrom/Desktop/Lunacats/LunacatsNodeServer/public/components/Pixy.js */\"));\n    }\n  }]);\n\n  return Pixy;\n}(React.Component);\n\nexport { Pixy as default };","map":{"version":3,"sources":["/Users/tomassandstrom/Desktop/Lunacats/LunacatsNodeServer/public/components/Pixy.js"],"names":["React","fetch","Pixy","props","context","state","checked","count","data","width","height","left","top","seq","boxes","interval","setInterval","render","clearInterval","ip","then","resp","json","sendCmd","myJson","setState","console","log","i","pixyBoxInfo","map","box","color","position","border","backgroundColor","zIndex","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport fetch from 'isomorphic-unfetch'\n\nexport default class Pixy extends React.Component {\n    constructor(props, context) {\n      super(props, context);\n  \n      this.state = {\n        checked: false\n      };\n      this.count = 0;\n      this.data = [];\n      this.width = 0;\n      this.height = 0;\n      this.left = 0;\n      this.top = 0;\n      this.seq = -4;\n      this.boxes = [];\n    }\n\n    componentDidMount() {\n      this.interval = setInterval(() => this.render(), 750);\n    }\n\n    componentWillUnmount() {\n      clearInterval(this.interval);\n    }\n  \n    //This sends a json string with just a cmd specified to the robot\n    sendCmd() {\n      const ip = \"http://localhost:3000/getPixyData\";\n      return  fetch(ip).then((resp) => resp.json()).then(function(data) {\n        return data;\n        \n      })\n  \n    }\n  \n    async pixyBoxInfo() {\n      //const getPixyInfoCmd = 5;\n       let myJson = await this.sendCmd(); //extract JSON from the http response\n      // let myJson = JSON.parse('{\"C\": 3, \"H1\": 6, \"H2\": 4, \"S2\": 1, \"H0\": 39, \"S0\": 1, \"X2\": 291, \"W2\": 14, \"W1\": 14, \"W0\": 62, \"Y1\": 56, \"Y0\": 139, \"X0\": 283, \"X1\": 135, \"S1\": 1, \"Y2\": 112}');\n      //let myJson = JSON.parse('{\"C\": 1, \"H0\": 39, \"S0\": 1, \"W0\": 62, \"Y0\": 139, \"X0\": 283}');\n      //myJson = JSON.stringify(myJson);\n      \n      \n      this.setState(myJson)\n      this.count = myJson[\"C\"];\n      console.log(this.count);\n      for (let i = 0; i < this.count; i++) {\n        this.width = myJson[\"W\" + i] / 320;\n        this.height = myJson[\"H\" + i] / 200;\n        this.left = myJson[\"X\" + i] / 320 - this.width / 2;\n        this.top = myJson[\"Y\" + i] / 200 - this.height / 2;\n        this.data = [this.width, this.height, this.left, this.top];\n        console.log(\"Creating box\")\n        this.boxes[i] = this.data;\n      }\n      console.log(this.boxes);\n    }\n  \n    render() {\n      \n      this.pixyBoxInfo();\n      console.log(\"rendering\");\n        return (\n        <div className=\"pixyView\">\n          <header id=\"lunaHeader\">•~•~•~•~•~•~•~•~•~ Pixy View ~•~•~•~•~•~•~•~•~•</header>\n          <div id=\"pixyViewBox\">{this.boxes.map((box, i) => {console.log(box[0]);return (\n            <div style={{color: 'black',\n              position: 'absolute',\n              border: '1px solid black',\n              backgroundColor: '#f4f4f4',\n              zIndex: 99999999999999,\n              width: box[0] * 100 + '%',\n              height: box[1] * 100 + '%',\n              left: box[2] * 100 + '%',\n              top: box[3] * 100 + '%',}}>\n            </div>\n          )})}\n          </div>\n          <style jsx>{`\n                html, body {\n                  margin: 0;\n                  width: 100%;\n                  height: 100%;\n                  overflow-y: hidden;\n                }\n                #pixyView {\n                  width:100%; \n                  float:center; \n                  height: 25px;\n                  margin: 0px;\n                  position: relative;\n                }\n                #lunaHeader{\n                  color: rgb(206, 206, 206);\n                  width: 100%;\n                  height: 35px;\n                  background-color: #333333;\n                  font-size: 25px;\n                  text-align: center;\n                  border-bottom: solid black 1px;\n                  box-shadow: 0px 0px 5px #888888;\n                }\n                #pixyViewBox {\n                  width:100%;\n                  height: 315px;\n                  background: rgb(71, 68, 68);\n                  margin: 0px;\n                  position: relative;\n                }\n              `}</style>\n        </div>\n        \n      )\n      \n    }\n  }"]},"metadata":{},"sourceType":"module"}