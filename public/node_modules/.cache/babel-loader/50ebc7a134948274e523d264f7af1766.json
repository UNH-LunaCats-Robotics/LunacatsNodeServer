{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\n\nvar Lidar =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Lidar, _React$Component);\n\n  function Lidar() {\n    _classCallCheck(this, Lidar);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Lidar).apply(this, arguments));\n  }\n\n  _createClass(Lidar, [{\n    key: \"sendJson\",\n    //This sends the json to the raspberry pi and gets a response\n    value: function () {\n      var _sendJson = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(json) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(\"Sent:\\t\" + json);\n                _context.prev = 1;\n                response = fetch(json, {\n                  mode: 'cors'\n                });\n                console.log(\"Got:\\t\" + response);\n                return _context.abrupt(\"return\", response);\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](1);\n                window.location.replace.href = 'popup';\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 7]]);\n      }));\n\n      function sendJson(_x) {\n        return _sendJson.apply(this, arguments);\n      }\n\n      return sendJson;\n    }()\n  }, {\n    key: \"sendCmd\",\n    //This sends a json string with just a cmd specified to the robot\n    value: function () {\n      var _sendCmd = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(cmd) {\n        var ip;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                ip = \"http://localhost:3000/getLidarData\";\n                return _context2.abrupt(\"return\", this.sendJson(ip + \"/cmd/{'c':\" + cmd + \"}\"));\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function sendCmd(_x2) {\n        return _sendCmd.apply(this, arguments);\n      }\n\n      return sendCmd;\n    }()\n  }, {\n    key: \"loadLidar\",\n    //This gets the lidar distance from the robot\n    value: function () {\n      var _loadLidar = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function loadLidar() {\n        return _loadLidar.apply(this, arguments);\n      }\n\n      return loadLidar;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.loadLidar();\n      return React.createElement(\"div\", {\n        className: \"jsx-3702321036\"\n      }, React.createElement(\"div\", {\n        id: \"map\",\n        className: \"jsx-3702321036\"\n      }, React.createElement(\"header\", {\n        id: \"lunaHeader\",\n        className: \"jsx-3702321036\"\n      }, \"\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~ Lidars ~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022\"), React.createElement(\"p\", {\n        id: \"lidarHeader\",\n        className: \"jsx-3702321036\"\n      }, \"\\u2022~\\u2022~ Front Left ~\\u2022~\\u2022\"), React.createElement(\"progress\", {\n        value: \"0\",\n        max: \"45\",\n        id: \"lidarDistance\",\n        className: \"jsx-3702321036\"\n      }), React.createElement(\"p\", {\n        id: \"lidarHeader\",\n        className: \"jsx-3702321036\"\n      }, \"\\u2022~\\u2022~ Front Right ~\\u2022~\\u2022\"), React.createElement(\"progress\", {\n        value: \"0\",\n        max: \"45\",\n        id: \"lidarDistance\",\n        className: \"jsx-3702321036\"\n      }), React.createElement(\"p\", {\n        id: \"lidarHeader\",\n        className: \"jsx-3702321036\"\n      }, \"\\u2022~\\u2022~ Back Left ~\\u2022~\\u2022\"), React.createElement(\"progress\", {\n        value: \"0\",\n        max: \"45\",\n        id: \"lidarDistance\",\n        className: \"jsx-3702321036\"\n      }), React.createElement(\"p\", {\n        id: \"lidarHeader\",\n        className: \"jsx-3702321036\"\n      }, \"\\u2022~\\u2022~ Back Right ~\\u2022~\\u2022\"), React.createElement(\"progress\", {\n        value: \"0\",\n        max: \"45\",\n        id: \"lidarDistance\",\n        className: \"jsx-3702321036\"\n      })), React.createElement(_JSXStyle, {\n        id: \"3702321036\"\n      }, \"html.jsx-3702321036,body.jsx-3702321036{margin:0;width:100%;height:100%;overflow-y:hidden;}#map.jsx-3702321036{width:100%;height:50%;}#lunaHeader.jsx-3702321036{color:rgb(206,206,206);width:100%;height:35px;background-color:#333333;font-size:25px;text-align:center;border-bottom:solid black 1px;box-shadow:0px 0px 5px #888888;}#lidarHeader.jsx-3702321036{color:rgb(245,241,241);width:85%;height:20px;background-color:#696969;font-size:15px;text-align:left;border-bottom:solid black 1px;box-shadow:0px 0px 5px #888888;padding-left:1%;}#lidarDistance.jsx-3702321036{width:85%;height:10%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90b21hc3NhbmRzdHJvbS9EZXNrdG9wL0x1bmFjYXRzL0x1bmFjYXRzTm9kZVNlcnZlci9wdWJsaWMvY29tcG9uZW50cy9MaWRhci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnRHNCLEFBR3dCLEFBTUUsQUFJYyxBQVVBLEFBV2YsU0E5QkMsQ0ErQkEsQ0F6QkEsU0FMQyxDQStCZCxDQXpCQSxDQUdhLEFBVUQsU0FsQlEsQ0FtQlAsQ0FWQyxXQVdhLENBVkEsSUFUM0Isb0JBb0JpQixDQVZBLGNBV0MsQ0FWRSxlQVdZLEdBVkEsMkJBV0MsR0FWQSw0QkFXZixHQVZsQixhQVdBIiwiZmlsZSI6Ii9Vc2Vycy90b21hc3NhbmRzdHJvbS9EZXNrdG9wL0x1bmFjYXRzL0x1bmFjYXRzTm9kZVNlcnZlci9wdWJsaWMvY29tcG9uZW50cy9MaWRhci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpZGFyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICAgIC8vVGhpcyBzZW5kcyB0aGUganNvbiB0byB0aGUgcmFzcGJlcnJ5IHBpIGFuZCBnZXRzIGEgcmVzcG9uc2VcbiAgICBhc3luYyBzZW5kSnNvbihqc29uKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlNlbnQ6XFx0XCIgKyBqc29uKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZmV0Y2goanNvbiwge1xuICAgICAgICAgIG1vZGU6ICdjb3JzJ1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coXCJHb3Q6XFx0XCIgKyByZXNwb25zZSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZS5ocmVmID0gJ3BvcHVwJztcbiAgICAgIH1cbiAgICB9O1xuICBcbiAgICAvL1RoaXMgc2VuZHMgYSBqc29uIHN0cmluZyB3aXRoIGp1c3QgYSBjbWQgc3BlY2lmaWVkIHRvIHRoZSByb2JvdFxuICAgIGFzeW5jIHNlbmRDbWQoY21kKSB7XG4gICAgICBjb25zdCBpcCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2dldExpZGFyRGF0YVwiO1xuICAgICAgcmV0dXJuIHRoaXMuc2VuZEpzb24oaXAgKyBcIi9jbWQveydjJzpcIiArIGNtZCArIFwifVwiKTtcbiAgICB9O1xuICBcbiAgICAvL1RoaXMgZ2V0cyB0aGUgbGlkYXIgZGlzdGFuY2UgZnJvbSB0aGUgcm9ib3RcbiAgICBhc3luYyBsb2FkTGlkYXIoKSB7XG4gICAgICAvLyBjb25zdCBnZXRMaWRhckluZm9DbWQgPSA2O1xuICAgICAgLy8gY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRDbWQoZ2V0TGlkYXJJbmZvQ21kKTtcbiAgICAgIC8vIGNvbnN0IG15SnNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsgLy9leHRyYWN0IEpTT04gZnJvbSB0aGUgaHR0cCByZXNwb25zZVxuICBcbiAgICAgIC8vIGNvbnN0IGRpc3QgPSBteUpzb25bXCJMXCJdO1xuICBcbiAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlkYXJEaXN0YW5jZVwiKS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBkaXN0KTtcbiAgICB9O1xuICBcbiAgICByZW5kZXIoKSB7XG4gICAgICB0aGlzLmxvYWRMaWRhcigpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8ZGl2IGlkPVwibWFwXCI+XG4gICAgICAgICAgICA8aGVhZGVyIGlkPVwibHVuYUhlYWRlclwiPuKAon7igKJ+4oCifuKAon7igKJ+4oCifuKAon7igKJ+4oCifiBMaWRhcnMgfuKAon7igKJ+4oCifuKAon7igKJ+4oCifuKAon7igKJ+4oCiPC9oZWFkZXI+XG4gICAgICAgICAgICA8cCBpZD1cImxpZGFySGVhZGVyXCI+4oCifuKAon4gRnJvbnQgTGVmdCB+4oCifuKAojwvcD5cbiAgICAgICAgICAgIDxwcm9ncmVzcyB2YWx1ZT1cIjBcIiBtYXg9XCI0NVwiIGlkPVwibGlkYXJEaXN0YW5jZVwiPjwvcHJvZ3Jlc3M+XG4gICAgICAgICAgICA8cCBpZD1cImxpZGFySGVhZGVyXCI+4oCifuKAon4gRnJvbnQgUmlnaHQgfuKAon7igKI8L3A+XG4gICAgICAgICAgICA8cHJvZ3Jlc3MgdmFsdWU9XCIwXCIgbWF4PVwiNDVcIiBpZD1cImxpZGFyRGlzdGFuY2VcIj48L3Byb2dyZXNzPlxuICAgICAgICAgICAgPHAgaWQ9XCJsaWRhckhlYWRlclwiPuKAon7igKJ+IEJhY2sgTGVmdCB+4oCifuKAojwvcD5cbiAgICAgICAgICAgIDxwcm9ncmVzcyB2YWx1ZT1cIjBcIiBtYXg9XCI0NVwiIGlkPVwibGlkYXJEaXN0YW5jZVwiPjwvcHJvZ3Jlc3M+XG4gICAgICAgICAgICA8cCBpZD1cImxpZGFySGVhZGVyXCI+4oCifuKAon4gQmFjayBSaWdodCB+4oCifuKAojwvcD5cbiAgICAgICAgICAgIDxwcm9ncmVzcyB2YWx1ZT1cIjBcIiBtYXg9XCI0NVwiIGlkPVwibGlkYXJEaXN0YW5jZVwiPjwvcHJvZ3Jlc3M+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgICAgaHRtbCwgYm9keSB7XG4gICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgICAgb3ZlcmZsb3cteTogaGlkZGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgI21hcCB7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICBoZWlnaHQ6IDUwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICNsdW5hSGVhZGVye1xuICAgICAgICAgICAgICBjb2xvcjogcmdiKDIwNiwgMjA2LCAyMDYpO1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgaGVpZ2h0OiAzNXB4O1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xuICAgICAgICAgICAgICBmb250LXNpemU6IDI1cHg7XG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogc29saWQgYmxhY2sgMXB4O1xuICAgICAgICAgICAgICBib3gtc2hhZG93OiAwcHggMHB4IDVweCAjODg4ODg4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgI2xpZGFySGVhZGVye1xuICAgICAgICAgICAgICBjb2xvcjogcmdiKDI0NSwgMjQxLCAyNDEpO1xuICAgICAgICAgICAgICB3aWR0aDogODUlO1xuICAgICAgICAgICAgICBoZWlnaHQ6MjBweDtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzY5Njk2OTtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNXB4O1xuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiBzb2xpZCBibGFjayAxcHg7XG4gICAgICAgICAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggNXB4ICM4ODg4ODg7XG4gICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMSU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAjbGlkYXJEaXN0YW5jZSB7XG4gICAgICAgICAgICAgIHdpZHRoOiA4NSU7XG4gICAgICAgICAgICAgIGhlaWdodDogMTAlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfVxuICBcbiAgXG4gIH0iXX0= */\\n/*@ sourceURL=/Users/tomassandstrom/Desktop/Lunacats/LunacatsNodeServer/public/components/Lidar.js */\"));\n    }\n  }]);\n\n  return Lidar;\n}(React.Component);\n\nexport { Lidar as default };","map":{"version":3,"sources":["/Users/tomassandstrom/Desktop/Lunacats/LunacatsNodeServer/public/components/Lidar.js"],"names":["React","Lidar","json","console","log","response","fetch","mode","window","location","replace","href","cmd","ip","sendJson","loadLidar","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;IACqBC,K;;;;;;;;;;;;;AACjB;;;;gDACeC,I;;;;;;AACbC,gBAAAA,OAAO,CAACC,GAAR,CAAY,YAAYF,IAAxB;;AAEQG,gBAAAA,Q,GAAWC,KAAK,CAACJ,IAAD,EAAO;AAC3BK,kBAAAA,IAAI,EAAE;AADqB,iBAAP,C;AAGtBJ,gBAAAA,OAAO,CAACC,GAAR,CAAY,WAAWC,QAAvB;iDACOA,Q;;;;;AAEPG,gBAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwBC,IAAxB,GAA+B,OAA/B;;;;;;;;;;;;;;;;;;AAIJ;;;;iDACcC,G;;;;;;AACNC,gBAAAA,E,GAAK,oC;kDACJ,KAAKC,QAAL,CAAcD,EAAE,GAAG,YAAL,GAAoBD,GAApB,GAA0B,GAAxC,C;;;;;;;;;;;;;;;;;;AAGT;;;;;;;;;;;;;;;;;;;;;;;;6BAWS;AACP,WAAKG,SAAL;AACA,aACE;AAAA;AAAA,SACE;AAAK,QAAA,EAAE,EAAC,KAAR;AAAA;AAAA,SACE;AAAQ,QAAA,EAAE,EAAC,YAAX;AAAA;AAAA,kJADF,EAEE;AAAG,QAAA,EAAE,EAAC,aAAN;AAAA;AAAA,oDAFF,EAGE;AAAU,QAAA,KAAK,EAAC,GAAhB;AAAoB,QAAA,GAAG,EAAC,IAAxB;AAA6B,QAAA,EAAE,EAAC,eAAhC;AAAA;AAAA,QAHF,EAIE;AAAG,QAAA,EAAE,EAAC,aAAN;AAAA;AAAA,qDAJF,EAKE;AAAU,QAAA,KAAK,EAAC,GAAhB;AAAoB,QAAA,GAAG,EAAC,IAAxB;AAA6B,QAAA,EAAE,EAAC,eAAhC;AAAA;AAAA,QALF,EAME;AAAG,QAAA,EAAE,EAAC,aAAN;AAAA;AAAA,mDANF,EAOE;AAAU,QAAA,KAAK,EAAC,GAAhB;AAAoB,QAAA,GAAG,EAAC,IAAxB;AAA6B,QAAA,EAAE,EAAC,eAAhC;AAAA;AAAA,QAPF,EAQE;AAAG,QAAA,EAAE,EAAC,aAAN;AAAA;AAAA,oDARF,EASE;AAAU,QAAA,KAAK,EAAC,GAAhB;AAAoB,QAAA,GAAG,EAAC,IAAxB;AAA6B,QAAA,EAAE,EAAC,eAAhC;AAAA;AAAA,QATF,CADF;AAAA;AAAA,u1KADF;AAoDD;;;;EAtF8Bf,KAAK,CAACgB,S;;SAApBf,K","sourcesContent":["import React from 'react'\nexport default class Lidar extends React.Component{\n    //This sends the json to the raspberry pi and gets a response\n    async sendJson(json) {\n      console.log(\"Sent:\\t\" + json);\n      try {\n        const response = fetch(json, {\n          mode: 'cors'\n        });\n        console.log(\"Got:\\t\" + response);\n        return response;\n      } catch {\n        window.location.replace.href = 'popup';\n      }\n    };\n  \n    //This sends a json string with just a cmd specified to the robot\n    async sendCmd(cmd) {\n      const ip = \"http://localhost:3000/getLidarData\";\n      return this.sendJson(ip + \"/cmd/{'c':\" + cmd + \"}\");\n    };\n  \n    //This gets the lidar distance from the robot\n    async loadLidar() {\n      // const getLidarInfoCmd = 6;\n      // const response = await this.sendCmd(getLidarInfoCmd);\n      // const myJson = await response.json(); //extract JSON from the http response\n  \n      // const dist = myJson[\"L\"];\n  \n      // document.getElementById(\"lidarDistance\").setAttribute(\"value\", dist);\n    };\n  \n    render() {\n      this.loadLidar();\n      return (\n        <div>\n          <div id=\"map\">\n            <header id=\"lunaHeader\">•~•~•~•~•~•~•~•~•~ Lidars ~•~•~•~•~•~•~•~•~•</header>\n            <p id=\"lidarHeader\">•~•~ Front Left ~•~•</p>\n            <progress value=\"0\" max=\"45\" id=\"lidarDistance\"></progress>\n            <p id=\"lidarHeader\">•~•~ Front Right ~•~•</p>\n            <progress value=\"0\" max=\"45\" id=\"lidarDistance\"></progress>\n            <p id=\"lidarHeader\">•~•~ Back Left ~•~•</p>\n            <progress value=\"0\" max=\"45\" id=\"lidarDistance\"></progress>\n            <p id=\"lidarHeader\">•~•~ Back Right ~•~•</p>\n            <progress value=\"0\" max=\"45\" id=\"lidarDistance\"></progress>\n          </div>\n          <style jsx>{`\n            html, body {\n              margin: 0;\n              width: 100%;\n              height: 100%;\n              overflow-y: hidden;\n            }\n            #map {\n              width: 100%;\n              height: 50%;\n            }\n            #lunaHeader{\n              color: rgb(206, 206, 206);\n              width: 100%;\n              height: 35px;\n              background-color: #333333;\n              font-size: 25px;\n              text-align: center;\n              border-bottom: solid black 1px;\n              box-shadow: 0px 0px 5px #888888;\n            }\n            #lidarHeader{\n              color: rgb(245, 241, 241);\n              width: 85%;\n              height:20px;\n              background-color: #696969;\n              font-size: 15px;\n              text-align: left;\n              border-bottom: solid black 1px;\n              box-shadow: 0px 0px 5px #888888;\n              padding-left: 1%;\n            }\n            #lidarDistance {\n              width: 85%;\n              height: 10%;\n            }\n          `}</style>\n        </div>\n      )\n    }\n  \n  \n  }"]},"metadata":{},"sourceType":"module"}