{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\cryst\\\\Desktop\\\\LuncatsNode\\\\LunacatsNodeServer\\\\public\\\\components\\\\Pixy.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\n\nvar PixyImgBox =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PixyImgBox, _React$Component);\n\n  function PixyImgBox(props, context) {\n    var _this;\n\n    _classCallCheck(this, PixyImgBox);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PixyImgBox).call(this, props, context));\n    _this.state = {\n      checked: false\n    };\n    _this.count = 0;\n    _this.data = [];\n    _this.boxes = [];\n    _this.width = 0;\n    _this.height = 0;\n    _this.left = 0;\n    _this.top = 0;\n    _this.seq = -4;\n    _this.whiteBox = [];\n    return _this;\n  } //This sends a json string with just a cmd specified to the robot\n\n\n  _createClass(PixyImgBox, [{\n    key: \"sendCmd\",\n    value: function sendCmd() {\n      var ip = \"http://localhost:3000/getPixyData\";\n      return fetch(ip).then(function (resp) {\n        return resp.json();\n      }).then(function (data) {\n        return data;\n      });\n    }\n  }, {\n    key: \"pixyBoxInfo\",\n    value: function () {\n      var _pixyBoxInfo = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var myJson, i;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.sendCmd();\n\n              case 2:\n                myJson = _context.sent;\n                //extract JSON from the http response\n                console.log(_JSON$stringify(myJson)); // let myJson = JSON.parse('{\"C\": 3, \"H1\": 6, \"H2\": 4, \"S2\": 1, \"H0\": 39, \"S0\": 1, \"X2\": 291, \"W2\": 14, \"W1\": 14, \"W0\": 62, \"Y1\": 56, \"Y0\": 139, \"X0\": 283, \"X1\": 135, \"S1\": 1, \"Y2\": 112}');\n                //let myJson = JSON.parse('{\"C\": 1, \"H0\": 39, \"S0\": 1, \"W0\": 62, \"Y0\": 139, \"X0\": 283}');\n\n                this.count = myJson[\"C\"];\n                console.log(this.count);\n\n                for (i = 0; i < this.count; i++) {\n                  this.width = myJson[\"W\" + i] / 320;\n                  this.height = myJson[\"H\" + i] / 200;\n                  this.left = myJson[\"X\" + i] / 320 - this.width / 2;\n                  this.top = myJson[\"Y\" + i] / 200 - this.height / 2;\n                  this.data = [this.width, this.height, this.left, this.top];\n                  this.boxes[i] = this.data;\n                }\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function pixyBoxInfo() {\n        return _pixyBoxInfo.apply(this, arguments);\n      }\n\n      return pixyBoxInfo;\n    }()\n  }, {\n    key: \"boxArray\",\n    value: function boxArray() {\n      this.pixyBoxInfo();\n\n      for (var i = 0; i < this.boxes.length; i++) {\n        this.whiteBox[i] = React.createElement('div', {\n          id: 'pixyImg',\n          style: {\n            width: this.boxes[i][0] * 100 + '%',\n            height: this.boxes[i][1] * 100 + '%',\n            left: this.boxes[i][2] * 100 + '%',\n            top: this.boxes[i][3] * 100 + '%'\n          }\n        });\n      }\n\n      console.log(\"WWW\" + this.whiteBox.length);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.pixyBoxInfo(); // return React.createElement(\"div\", {\n      //   id: \"pixyView\"\n      // }, React.createElement(\"header\", {\n      //   id: \"lunaHeader\"\n      // }, \"•~•~•~•~•~•~•~•~•~ Pixy View ~•~•~•~•~•~•~•~•~•\"), React.createElement(\"div\", {\n      //   id: \"pixyViewBox\"\n      // },React.createElement(\"div\", {\n      //   id: \"pixyViewBox\"\n      // }, this.boxes.map((box, i) => {return React.createElement('div', { id: 'pixyImg', style: {\n      //   id: i,\n      //   key: i,\n      //   width: box[0] * 100 + '%',\n      //   height: box[1] * 100 + '%',\n      //   left: box[2] * 100 + '%',\n      //   top: box[3] * 100 + '%',\n      // }})}))))\n\n      return React.createElement(\"div\", {\n        class: \"pixyView\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        id: \"lunaHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~ Pixy View ~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022\"), React.createElement(\"div\", {\n        id: \"pixyViewBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, this.boxes.map(function (box, i) {\n        return React.createElement(\"div\", {\n          id: \"pixyImg\",\n          className: \"jsx-337943377\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(_JSXStyle, {\n          id: \"337943377\",\n          __self: this\n        }, \"#pixyImg.jsx-337943377{color:black;position:absolute;border:1px solid black;background-color:#f4f4f4;z-index:99999999999999;width:box[0] * 100 + '%', height:box[1] * 100 + '%', left:box[2] * 100 + '%', top:box[3] * 100 + '%',;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcY3J5c3RcXERlc2t0b3BcXEx1bmNhdHNOb2RlXFxMdW5hY2F0c05vZGVTZXJ2ZXJcXHB1YmxpY1xcY29tcG9uZW50c1xcUGl4eS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF3RjBCLEFBRytCLFlBQ00sa0JBQ0ssdUJBQ0UseUJBQ0YsdUJBSzFCLHNHQUFDIiwiZmlsZSI6IkM6XFxVc2Vyc1xcY3J5c3RcXERlc2t0b3BcXEx1bmNhdHNOb2RlXFxMdW5hY2F0c05vZGVTZXJ2ZXJcXHB1YmxpY1xcY29tcG9uZW50c1xcUGl4eS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGl4eUltZ0JveCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCkge1xyXG4gICAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XHJcbiAgXHJcbiAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgY2hlY2tlZDogZmFsc2VcclxuICAgICAgfTtcclxuICAgICAgdGhpcy5jb3VudCA9IDA7XHJcbiAgICAgIHRoaXMuZGF0YSA9IFtdO1xyXG4gICAgICB0aGlzLmJveGVzID0gW107XHJcbiAgICAgIHRoaXMud2lkdGggPSAwO1xyXG4gICAgICB0aGlzLmhlaWdodCA9IDA7XHJcbiAgICAgIHRoaXMubGVmdCA9IDA7XHJcbiAgICAgIHRoaXMudG9wID0gMDtcclxuICAgICAgdGhpcy5zZXEgPSAtNDtcclxuICAgICAgdGhpcy53aGl0ZUJveCA9IFtdO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLy9UaGlzIHNlbmRzIGEganNvbiBzdHJpbmcgd2l0aCBqdXN0IGEgY21kIHNwZWNpZmllZCB0byB0aGUgcm9ib3RcclxuICAgIHNlbmRDbWQoKSB7XHJcbiAgICAgIGNvbnN0IGlwID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvZ2V0UGl4eURhdGFcIjtcclxuICAgICAgcmV0dXJuICBmZXRjaChpcCkudGhlbigocmVzcCkgPT4gcmVzcC5qc29uKCkpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICB9KVxyXG4gIFxyXG4gICAgfVxyXG4gIFxyXG4gICAgYXN5bmMgcGl4eUJveEluZm8oKSB7XHJcbiAgICAgIC8vY29uc3QgZ2V0UGl4eUluZm9DbWQgPSA1O1xyXG4gICAgICBsZXQgbXlKc29uID0gYXdhaXQgdGhpcy5zZW5kQ21kKCk7IC8vZXh0cmFjdCBKU09OIGZyb20gdGhlIGh0dHAgcmVzcG9uc2VcclxuICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkobXlKc29uKSlcclxuICAgICAgLy8gbGV0IG15SnNvbiA9IEpTT04ucGFyc2UoJ3tcIkNcIjogMywgXCJIMVwiOiA2LCBcIkgyXCI6IDQsIFwiUzJcIjogMSwgXCJIMFwiOiAzOSwgXCJTMFwiOiAxLCBcIlgyXCI6IDI5MSwgXCJXMlwiOiAxNCwgXCJXMVwiOiAxNCwgXCJXMFwiOiA2MiwgXCJZMVwiOiA1NiwgXCJZMFwiOiAxMzksIFwiWDBcIjogMjgzLCBcIlgxXCI6IDEzNSwgXCJTMVwiOiAxLCBcIlkyXCI6IDExMn0nKTtcclxuICAgICAgLy9sZXQgbXlKc29uID0gSlNPTi5wYXJzZSgne1wiQ1wiOiAxLCBcIkgwXCI6IDM5LCBcIlMwXCI6IDEsIFwiVzBcIjogNjIsIFwiWTBcIjogMTM5LCBcIlgwXCI6IDI4M30nKTtcclxuICBcclxuICAgICAgdGhpcy5jb3VudCA9IG15SnNvbltcIkNcIl07XHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY291bnQpO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY291bnQ7IGkrKykge1xyXG4gICAgICAgIHRoaXMud2lkdGggPSBteUpzb25bXCJXXCIgKyBpXSAvIDMyMDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IG15SnNvbltcIkhcIiArIGldIC8gMjAwO1xyXG4gICAgICAgIHRoaXMubGVmdCA9IG15SnNvbltcIlhcIiArIGldIC8gMzIwIC0gdGhpcy53aWR0aCAvIDI7XHJcbiAgICAgICAgdGhpcy50b3AgPSBteUpzb25bXCJZXCIgKyBpXSAvIDIwMCAtIHRoaXMuaGVpZ2h0IC8gMjtcclxuICAgICAgICB0aGlzLmRhdGEgPSBbdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMubGVmdCwgdGhpcy50b3BdO1xyXG4gICAgICAgIHRoaXMuYm94ZXNbaV0gPSB0aGlzLmRhdGE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIGJveEFycmF5KCkge1xyXG4gICAgICB0aGlzLnBpeHlCb3hJbmZvKClcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJveGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy53aGl0ZUJveFtpXSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcclxuICAgICAgICAgIGlkOiAncGl4eUltZycsXHJcbiAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5ib3hlc1tpXVswXSAqIDEwMCArICclJyxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmJveGVzW2ldWzFdICogMTAwICsgJyUnLFxyXG4gICAgICAgICAgICBsZWZ0OiB0aGlzLmJveGVzW2ldWzJdICogMTAwICsgJyUnLFxyXG4gICAgICAgICAgICB0b3A6IHRoaXMuYm94ZXNbaV1bM10gKiAxMDAgKyAnJScsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBjb25zb2xlLmxvZyhcIldXV1wiICsgdGhpcy53aGl0ZUJveC5sZW5ndGgpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICB0aGlzLnBpeHlCb3hJbmZvKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgICAgIC8vICAgaWQ6IFwicGl4eVZpZXdcIlxyXG4gICAgICAvLyB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIsIHtcclxuICAgICAgLy8gICBpZDogXCJsdW5hSGVhZGVyXCJcclxuICAgICAgLy8gfSwgXCLigKJ+4oCifuKAon7igKJ+4oCifuKAon7igKJ+4oCifuKAon4gUGl4eSBWaWV3IH7igKJ+4oCifuKAon7igKJ+4oCifuKAon7igKJ+4oCifuKAolwiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgICAgIC8vICAgaWQ6IFwicGl4eVZpZXdCb3hcIlxyXG4gICAgICAvLyB9LFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xyXG4gICAgICAvLyAgIGlkOiBcInBpeHlWaWV3Qm94XCJcclxuICAgICAgLy8gfSwgdGhpcy5ib3hlcy5tYXAoKGJveCwgaSkgPT4ge3JldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGlkOiAncGl4eUltZycsIHN0eWxlOiB7XHJcbiAgICAgIC8vICAgaWQ6IGksXHJcbiAgICAgIC8vICAga2V5OiBpLFxyXG4gICAgICAvLyAgIHdpZHRoOiBib3hbMF0gKiAxMDAgKyAnJScsXHJcbiAgICAgIC8vICAgaGVpZ2h0OiBib3hbMV0gKiAxMDAgKyAnJScsXHJcbiAgICAgIC8vICAgbGVmdDogYm94WzJdICogMTAwICsgJyUnLFxyXG4gICAgICAvLyAgIHRvcDogYm94WzNdICogMTAwICsgJyUnLFxyXG4gICAgICAvLyB9fSl9KSkpKVxyXG5cclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzPVwicGl4eVZpZXdcIj5cclxuICAgICAgICAgIDxoZWFkZXIgaWQ9XCJsdW5hSGVhZGVyXCI+4oCifuKAon7igKJ+4oCifuKAon7igKJ+4oCifuKAon7igKJ+IFBpeHkgVmlldyB+4oCifuKAon7igKJ+4oCifuKAon7igKJ+4oCifuKAon7igKI8L2hlYWRlcj5cclxuICAgICAgICAgIDxkaXYgaWQ9XCJwaXh5Vmlld0JveFwiPnt0aGlzLmJveGVzLm1hcCgoYm94LCBpKSA9PiB7cmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBpZD1cInBpeHlJbWdcIj5cclxuICAgICAgICAgICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgICAgICAgICAjcGl4eUltZyB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDtcclxuICAgICAgICAgICAgICAgICAgei1pbmRleDogOTk5OTk5OTk5OTk5OTk7XHJcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiBib3hbMF0gKiAxMDAgKyAnJScsXHJcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogYm94WzFdICogMTAwICsgJyUnLFxyXG4gICAgICAgICAgICAgICAgICBsZWZ0OiBib3hbMl0gKiAxMDAgKyAnJScsXHJcbiAgICAgICAgICAgICAgICAgIHRvcDogYm94WzNdICogMTAwICsgJyUnLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfSkgfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcbiAgLy9QaXh5SW1nQm94ID0gUmVhY3QuY3JlYXRlRWxlbWVudChQaXh5SW1nQm94KTtcclxuICBcclxuICAvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBQaXh5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xyXG4gIFxyXG4gIC8vICAgLy9UaGlzIHNlbmRzIHRoZSBqc29uIHRvIHRoZSByYXNwYmVycnkgcGkgYW5kIGdldHMgYSByZXNwb25zZVxyXG4gIC8vICAgYXN5bmMgc2VuZEpzb24oanNvbikge1xyXG4gIC8vICAgICBjb25zb2xlLmxvZyhcIlNlbnQ6XFx0XCIgKyBqc29uKTtcclxuICAvLyAgICAgdHJ5IHtcclxuICAvLyAgICAgICBjb25zdCByZXNwb25zZSA9IGZldGNoKGpzb24sIHtcclxuICAvLyAgICAgICAgIG1vZGU6ICdjb3JzJ1xyXG4gIC8vICAgICAgIH0pO1xyXG4gIFxyXG4gIC8vICAgICAgIGNvbnNvbGUubG9nKFwiR290OlxcdFwiICsgcmVzcG9uc2UpO1xyXG4gIC8vICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAvLyAgICAgfSBjYXRjaCB7XHJcbiAgLy8gICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnI3BvcHVwJztcclxuICAvLyAgICAgfVxyXG4gIC8vICAgfVxyXG4gIFxyXG4gIC8vICAgLy9UaGlzIHNlbmRzIGEganNvbiBzdHJpbmcgd2l0aCBqdXN0IGEgY21kIHNwZWNpZmllZCB0byB0aGUgcm9ib3RcclxuICAvLyAgIHNlbmRDbWQoY21kKSB7XHJcbiAgLy8gICAgIGNvbnN0IGlwID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvZ2V0UGl4eURhdGFcIjtcclxuICAvLyAgICAgcmV0dXJuIHRoaXMuc2VuZEpzb24oaXApO1xyXG4gIC8vICAgfVxyXG4gIFxyXG4gIC8vICAgcmVuZGVyKCkge1xyXG4gIC8vICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgLy8gICAgICAgaWQ6IFwicGl4eVZpZXdcIlxyXG4gIC8vICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIsIHtcclxuICAvLyAgICAgICBpZDogXCJsdW5hSGVhZGVyXCJcclxuICAvLyAgICAgfSwgXCLigKJ+4oCifuKAon7igKJ+4oCifuKAon7igKJ+4oCifuKAon4gUGl4eSBWaWV3IH7igKJ+4oCifuKAon7igKJ+4oCifuKAon7igKJ+4oCifuKAolwiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgLy8gICAgICAgaWQ6IFwicGl4eVZpZXdCb3hcIlxyXG4gIC8vICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFBpeHlJbWdCb3gpKSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG4gIC8vIC8vUGl4eSA9IFJlYWN0LmNyZWF0ZUZhY3RvcnkoUGl4eSk7Il19 */\\n/*@ sourceURL=C:\\\\Users\\\\cryst\\\\Desktop\\\\LuncatsNode\\\\LunacatsNodeServer\\\\public\\\\components\\\\Pixy.js */\"));\n      })));\n    }\n  }]);\n\n  return PixyImgBox;\n}(React.Component); //PixyImgBox = React.createElement(PixyImgBox);\n// export default class Pixy extends React.Component{\n//   //This sends the json to the raspberry pi and gets a response\n//   async sendJson(json) {\n//     console.log(\"Sent:\\t\" + json);\n//     try {\n//       const response = fetch(json, {\n//         mode: 'cors'\n//       });\n//       console.log(\"Got:\\t\" + response);\n//       return response;\n//     } catch {\n//       window.location.href = '#popup';\n//     }\n//   }\n//   //This sends a json string with just a cmd specified to the robot\n//   sendCmd(cmd) {\n//     const ip = \"http://localhost:3000/getPixyData\";\n//     return this.sendJson(ip);\n//   }\n//   render() {\n//     return React.createElement(\"div\", {\n//       id: \"pixyView\"\n//     }, React.createElement(\"header\", {\n//       id: \"lunaHeader\"\n//     }, \"•~•~•~•~•~•~•~•~•~ Pixy View ~•~•~•~•~•~•~•~•~•\"), React.createElement(\"div\", {\n//       id: \"pixyViewBox\"\n//     }, React.createElement(PixyImgBox)));\n//   }\n// }\n// //Pixy = React.createFactory(Pixy);\n\n\nexport { PixyImgBox as default };","map":{"version":3,"sources":["C:\\Users\\cryst\\Desktop\\LuncatsNode\\LunacatsNodeServer\\public\\components\\Pixy.js"],"names":["React","PixyImgBox","props","context","state","checked","count","data","boxes","width","height","left","top","seq","whiteBox","ip","fetch","then","resp","json","sendCmd","myJson","console","log","i","pixyBoxInfo","length","createElement","id","style","map","box","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nexport default class PixyImgBox extends React.Component {\r\n    constructor(props, context) {\r\n      super(props, context);\r\n  \r\n      this.state = {\r\n        checked: false\r\n      };\r\n      this.count = 0;\r\n      this.data = [];\r\n      this.boxes = [];\r\n      this.width = 0;\r\n      this.height = 0;\r\n      this.left = 0;\r\n      this.top = 0;\r\n      this.seq = -4;\r\n      this.whiteBox = [];\r\n    }\r\n  \r\n    //This sends a json string with just a cmd specified to the robot\r\n    sendCmd() {\r\n      const ip = \"http://localhost:3000/getPixyData\";\r\n      return  fetch(ip).then((resp) => resp.json()).then(function(data) {\r\n        return data;\r\n      })\r\n  \r\n    }\r\n  \r\n    async pixyBoxInfo() {\r\n      //const getPixyInfoCmd = 5;\r\n      let myJson = await this.sendCmd(); //extract JSON from the http response\r\n      console.log(JSON.stringify(myJson))\r\n      // let myJson = JSON.parse('{\"C\": 3, \"H1\": 6, \"H2\": 4, \"S2\": 1, \"H0\": 39, \"S0\": 1, \"X2\": 291, \"W2\": 14, \"W1\": 14, \"W0\": 62, \"Y1\": 56, \"Y0\": 139, \"X0\": 283, \"X1\": 135, \"S1\": 1, \"Y2\": 112}');\r\n      //let myJson = JSON.parse('{\"C\": 1, \"H0\": 39, \"S0\": 1, \"W0\": 62, \"Y0\": 139, \"X0\": 283}');\r\n  \r\n      this.count = myJson[\"C\"];\r\n      console.log(this.count);\r\n      for (let i = 0; i < this.count; i++) {\r\n        this.width = myJson[\"W\" + i] / 320;\r\n        this.height = myJson[\"H\" + i] / 200;\r\n        this.left = myJson[\"X\" + i] / 320 - this.width / 2;\r\n        this.top = myJson[\"Y\" + i] / 200 - this.height / 2;\r\n        this.data = [this.width, this.height, this.left, this.top];\r\n        this.boxes[i] = this.data;\r\n      }\r\n    }\r\n  \r\n    boxArray() {\r\n      this.pixyBoxInfo()\r\n      for (var i = 0; i < this.boxes.length; i++) {\r\n        this.whiteBox[i] = React.createElement('div', {\r\n          id: 'pixyImg',\r\n          style: {\r\n            width: this.boxes[i][0] * 100 + '%',\r\n            height: this.boxes[i][1] * 100 + '%',\r\n            left: this.boxes[i][2] * 100 + '%',\r\n            top: this.boxes[i][3] * 100 + '%',\r\n          }\r\n        })\r\n      }\r\n      console.log(\"WWW\" + this.whiteBox.length);\r\n    }\r\n  \r\n    render() {\r\n      this.pixyBoxInfo();\r\n      \r\n      // return React.createElement(\"div\", {\r\n      //   id: \"pixyView\"\r\n      // }, React.createElement(\"header\", {\r\n      //   id: \"lunaHeader\"\r\n      // }, \"•~•~•~•~•~•~•~•~•~ Pixy View ~•~•~•~•~•~•~•~•~•\"), React.createElement(\"div\", {\r\n      //   id: \"pixyViewBox\"\r\n      // },React.createElement(\"div\", {\r\n      //   id: \"pixyViewBox\"\r\n      // }, this.boxes.map((box, i) => {return React.createElement('div', { id: 'pixyImg', style: {\r\n      //   id: i,\r\n      //   key: i,\r\n      //   width: box[0] * 100 + '%',\r\n      //   height: box[1] * 100 + '%',\r\n      //   left: box[2] * 100 + '%',\r\n      //   top: box[3] * 100 + '%',\r\n      // }})}))))\r\n\r\n      return (\r\n        <div class=\"pixyView\">\r\n          <header id=\"lunaHeader\">•~•~•~•~•~•~•~•~•~ Pixy View ~•~•~•~•~•~•~•~•~•</header>\r\n          <div id=\"pixyViewBox\">{this.boxes.map((box, i) => {return (\r\n            <div id=\"pixyImg\">\r\n              <style jsx>{`\r\n                #pixyImg {\r\n                  color: black;\r\n                  position: absolute;\r\n                  border: 1px solid black;\r\n                  background-color: #f4f4f4;\r\n                  z-index: 99999999999999;\r\n                  width: box[0] * 100 + '%',\r\n                  height: box[1] * 100 + '%',\r\n                  left: box[2] * 100 + '%',\r\n                  top: box[3] * 100 + '%',\r\n                }\r\n              `}</style>\r\n            </div>\r\n          )}) }\r\n          </div>\r\n        </div>\r\n        \r\n      )\r\n    }\r\n  }\r\n  //PixyImgBox = React.createElement(PixyImgBox);\r\n  \r\n  // export default class Pixy extends React.Component{\r\n  \r\n  //   //This sends the json to the raspberry pi and gets a response\r\n  //   async sendJson(json) {\r\n  //     console.log(\"Sent:\\t\" + json);\r\n  //     try {\r\n  //       const response = fetch(json, {\r\n  //         mode: 'cors'\r\n  //       });\r\n  \r\n  //       console.log(\"Got:\\t\" + response);\r\n  //       return response;\r\n  //     } catch {\r\n  //       window.location.href = '#popup';\r\n  //     }\r\n  //   }\r\n  \r\n  //   //This sends a json string with just a cmd specified to the robot\r\n  //   sendCmd(cmd) {\r\n  //     const ip = \"http://localhost:3000/getPixyData\";\r\n  //     return this.sendJson(ip);\r\n  //   }\r\n  \r\n  //   render() {\r\n  //     return React.createElement(\"div\", {\r\n  //       id: \"pixyView\"\r\n  //     }, React.createElement(\"header\", {\r\n  //       id: \"lunaHeader\"\r\n  //     }, \"•~•~•~•~•~•~•~•~•~ Pixy View ~•~•~•~•~•~•~•~•~•\"), React.createElement(\"div\", {\r\n  //       id: \"pixyViewBox\"\r\n  //     }, React.createElement(PixyImgBox)));\r\n  //   }\r\n  // }\r\n  // //Pixy = React.createFactory(Pixy);"]},"metadata":{},"sourceType":"module"}