{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport fetch from 'isomorphic-unfetch';\n\nvar Pixy =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Pixy, _React$Component);\n\n  function Pixy(props, context) {\n    var _this;\n\n    _classCallCheck(this, Pixy);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pixy).call(this, props, context));\n    _this.state = {\n      count: 0,\n      data: [],\n      boxes: [],\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    };\n    return _this;\n  }\n\n  _createClass(Pixy, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.interval = setInterval(function () {\n        return _this2.render();\n      }, 750);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.interval);\n    } //This sends a json string with just a cmd specified to the robot\n\n  }, {\n    key: \"sendCmd\",\n    value: function sendCmd() {\n      var ip = \"http://localhost:3000/getPixyData\";\n      return fetch(ip).then(function (resp) {\n        return resp.json();\n      }).then(function (data) {\n        return data;\n      });\n    }\n  }, {\n    key: \"pixyBoxInfo\",\n    value: function () {\n      var _pixyBoxInfo = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var myJson, i;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.sendCmd();\n\n              case 2:\n                myJson = _context.sent;\n                //extract JSON from the http response\n                //let myJson = JSON.parse('{\"C\": 3, \"H1\": 6, \"H2\": 4, \"S2\": 1, \"H0\": 39, \"S0\": 1, \"X2\": 291, \"W2\": 14, \"W1\": 14, \"W0\": 62, \"Y1\": 56, \"Y0\": 139, \"X0\": 283, \"X1\": 135, \"S1\": 1, \"Y2\": 112}');\n                //let myJson = JSON.parse('{\"C\": 1, \"H0\": 39, \"S0\": 1, \"W0\": 62, \"Y0\": 139, \"X0\": 283}');\n                console.log(myJson);\n                this.state.count = myJson[\"C\"];\n\n                for (i = 0; i < this.state.count; i++) {\n                  this.state.width = myJson[\"W\" + i] / 320;\n                  console.log(this.width);\n                  this.state.height = myJson[\"H\" + i] / 200;\n                  this.state.left = myJson[\"X\" + i] / 320 - this.width / 2;\n                  this.state.top = myJson[\"Y\" + i] / 200 - this.height / 2;\n                  this.state.data = [this.width, this.height, this.left, this.top];\n                  this.state.boxes[i] = this.data;\n                }\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function pixyBoxInfo() {\n        return _pixyBoxInfo.apply(this, arguments);\n      }\n\n      return pixyBoxInfo;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      this.pixyBoxInfo();\n      console.log(\"rendering\");\n      return React.createElement(\"div\", {\n        className: \"jsx-2706099491\" + \" \" + \"pixyView\"\n      }, React.createElement(\"header\", {\n        id: \"lunaHeader\",\n        className: \"jsx-2706099491\"\n      }, \"\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~ Pixy View ~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022~\\u2022\"), React.createElement(\"div\", {\n        id: \"pixyViewBox\",\n        className: \"jsx-2706099491\"\n      }, this.state.boxes.map(function (box, i) {\n        _this3.pixyBoxInfo();\n\n        return React.createElement(\"div\", {\n          style: {\n            color: 'black',\n            position: 'absolute',\n            border: '1px solid black',\n            backgroundColor: '#f4f4f4',\n            zIndex: 99999999999999,\n            width: box[i][0] * 100 + '%',\n            height: box[i][1] * 100 + '%',\n            left: box[i][2] * 100 + '%',\n            top: _this3.state.boxes[i][3] * 100 + '%'\n          },\n          className: \"jsx-2706099491\"\n        });\n      })), React.createElement(_JSXStyle, {\n        id: \"2706099491\"\n      }, \"html.jsx-2706099491,body.jsx-2706099491{margin:0;width:100%;height:100%;overflow-y:hidden;}#pixyView.jsx-2706099491{width:100%;float:center;height:25px;margin:0px;position:relative;}#lunaHeader.jsx-2706099491{color:rgb(206,206,206);width:100%;height:35px;background-color:#333333;font-size:25px;text-align:center;border-bottom:solid black 1px;box-shadow:0px 0px 5px #888888;}#pixyViewBox.jsx-2706099491{width:100%;height:315px;background:rgb(71,68,68);margin:0px;position:relative;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcY3J5c3RcXERlc2t0b3BcXEx1bmNhdHNOb2RlXFxMdW5hY2F0c05vZGVTZXJ2ZXJcXHB1YmxpY1xcY29tcG9uZW50c1xcUGl4eS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF5RXNCLEFBRzRCLEFBTUMsQUFPZSxBQVVmLFNBdEJDLEVBTUMsQUFpQkMsU0F0QkQsR0FZRCxDQU5DLEFBaUJlLFFBdEJULEVBWU4sRUFORCxVQU9jLENBTlAsRUFnQlAsQ0F0QmIsVUF1Qm9CLEtBaEJwQixNQU1pQixPQVdqQixRQVZvQixrQkFDWSw4QkFDQywrQkFDakMiLCJmaWxlIjoiQzpcXFVzZXJzXFxjcnlzdFxcRGVza3RvcFxcTHVuY2F0c05vZGVcXEx1bmFjYXRzTm9kZVNlcnZlclxccHVibGljXFxjb21wb25lbnRzXFxQaXh5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy11bmZldGNoJ1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaXh5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcclxuICBcclxuICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgXHJcbiAgICAgIGNvdW50OiAwLFxyXG4gICAgICBkYXRhOiBbXSxcclxuICAgICAgYm94ZXM6IFtdLFxyXG4gICAgICB3aWR0aDogMCxcclxuICAgICAgaGVpZ2h0OiAwLFxyXG4gICAgICBsZWZ0OiAwLFxyXG4gICAgICB0b3A6IDAsXHJcbiAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5yZW5kZXIoKSwgNzUwKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcclxuICAgIH1cclxuICBcclxuICAgIC8vVGhpcyBzZW5kcyBhIGpzb24gc3RyaW5nIHdpdGgganVzdCBhIGNtZCBzcGVjaWZpZWQgdG8gdGhlIHJvYm90XHJcbiAgICBzZW5kQ21kKCkge1xyXG4gICAgICBjb25zdCBpcCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2dldFBpeHlEYXRhXCI7XHJcbiAgICAgIHJldHVybiAgZmV0Y2goaXApLnRoZW4oKHJlc3ApID0+IHJlc3AuanNvbigpKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfSlcclxuICBcclxuICAgIH1cclxuICBcclxuICAgIGFzeW5jIHBpeHlCb3hJbmZvKCkge1xyXG4gICAgICAvL2NvbnN0IGdldFBpeHlJbmZvQ21kID0gNTtcclxuICAgICAgbGV0IG15SnNvbiA9IGF3YWl0IHRoaXMuc2VuZENtZCgpOyAvL2V4dHJhY3QgSlNPTiBmcm9tIHRoZSBodHRwIHJlc3BvbnNlXHJcbiAgICAgIC8vbGV0IG15SnNvbiA9IEpTT04ucGFyc2UoJ3tcIkNcIjogMywgXCJIMVwiOiA2LCBcIkgyXCI6IDQsIFwiUzJcIjogMSwgXCJIMFwiOiAzOSwgXCJTMFwiOiAxLCBcIlgyXCI6IDI5MSwgXCJXMlwiOiAxNCwgXCJXMVwiOiAxNCwgXCJXMFwiOiA2MiwgXCJZMVwiOiA1NiwgXCJZMFwiOiAxMzksIFwiWDBcIjogMjgzLCBcIlgxXCI6IDEzNSwgXCJTMVwiOiAxLCBcIlkyXCI6IDExMn0nKTtcclxuICAgICAgLy9sZXQgbXlKc29uID0gSlNPTi5wYXJzZSgne1wiQ1wiOiAxLCBcIkgwXCI6IDM5LCBcIlMwXCI6IDEsIFwiVzBcIjogNjIsIFwiWTBcIjogMTM5LCBcIlgwXCI6IDI4M30nKTtcclxuICAgICAgY29uc29sZS5sb2cobXlKc29uKTtcclxuICAgICAgdGhpcy5zdGF0ZS5jb3VudCA9IG15SnNvbltcIkNcIl07XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGUuY291bnQ7IGkrKykge1xyXG4gICAgICAgIHRoaXMuc3RhdGUud2lkdGggPSBteUpzb25bXCJXXCIgKyBpXSAvIDMyMDtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLndpZHRoKTtcclxuICAgICAgICB0aGlzLnN0YXRlLmhlaWdodCA9IG15SnNvbltcIkhcIiArIGldIC8gMjAwO1xyXG4gICAgICAgIHRoaXMuc3RhdGUubGVmdCA9IG15SnNvbltcIlhcIiArIGldIC8gMzIwIC0gdGhpcy53aWR0aCAvIDI7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS50b3AgPSBteUpzb25bXCJZXCIgKyBpXSAvIDIwMCAtIHRoaXMuaGVpZ2h0IC8gMjtcclxuICAgICAgICB0aGlzLnN0YXRlLmRhdGEgPSBbdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMubGVmdCwgdGhpcy50b3BdO1xyXG4gICAgICAgIHRoaXMuc3RhdGUuYm94ZXNbaV0gPSB0aGlzLmRhdGE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgdGhpcy5waXh5Qm94SW5mbygpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcInJlbmRlcmluZ1wiKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGl4eVZpZXdcIj5cclxuICAgICAgICAgIDxoZWFkZXIgaWQ9XCJsdW5hSGVhZGVyXCI+4oCifuKAon7igKJ+4oCifuKAon7igKJ+4oCifuKAon7igKJ+IFBpeHkgVmlldyB+4oCifuKAon7igKJ+4oCifuKAon7igKJ+4oCifuKAon7igKI8L2hlYWRlcj5cclxuICAgICAgICAgIDxkaXYgaWQ9XCJwaXh5Vmlld0JveFwiPnt0aGlzLnN0YXRlLmJveGVzLm1hcCgoYm94LCBpKSA9PiB7dGhpcy5waXh5Qm94SW5mbygpO3JldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tjb2xvcjogJ2JsYWNrJyxcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgYmxhY2snLFxyXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmNGY0ZjQnLFxyXG4gICAgICAgICAgICAgIHpJbmRleDogOTk5OTk5OTk5OTk5OTksXHJcbiAgICAgICAgICAgICAgd2lkdGg6IGJveFtpXVswXSAqIDEwMCArICclJyxcclxuICAgICAgICAgICAgICBoZWlnaHQ6IGJveFtpXVsxXSAqIDEwMCArICclJyxcclxuICAgICAgICAgICAgICBsZWZ0OiBib3hbaV1bMl0gKiAxMDAgKyAnJScsXHJcbiAgICAgICAgICAgICAgdG9wOiB0aGlzLnN0YXRlLmJveGVzW2ldWzNdICogMTAwICsgJyUnLH19PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9KX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgICAgICAgICAgaHRtbCwgYm9keSB7XHJcbiAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgICAgICAgICAgb3ZlcmZsb3cteTogaGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgI3BpeHlWaWV3IHtcclxuICAgICAgICAgICAgICAgICAgd2lkdGg6MTAwJTsgXHJcbiAgICAgICAgICAgICAgICAgIGZsb2F0OmNlbnRlcjsgXHJcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogMjVweDtcclxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwcHg7XHJcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICNsdW5hSGVhZGVye1xyXG4gICAgICAgICAgICAgICAgICBjb2xvcjogcmdiKDIwNiwgMjA2LCAyMDYpO1xyXG4gICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzNXB4O1xyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xyXG4gICAgICAgICAgICAgICAgICBmb250LXNpemU6IDI1cHg7XHJcbiAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogc29saWQgYmxhY2sgMXB4O1xyXG4gICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwcHggMHB4IDVweCAjODg4ODg4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgI3BpeHlWaWV3Qm94IHtcclxuICAgICAgICAgICAgICAgICAgd2lkdGg6MTAwJTsgXHJcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogMzE1cHg7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYig3MSwgNjgsIDY4KTtcclxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwcHg7XHJcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgIClcclxuICAgICAgXHJcbiAgICB9XHJcbiAgfSJdfQ== */\\n/*@ sourceURL=C:\\\\Users\\\\cryst\\\\Desktop\\\\LuncatsNode\\\\LunacatsNodeServer\\\\public\\\\components\\\\Pixy.js */\"));\n    }\n  }]);\n\n  return Pixy;\n}(React.Component);\n\nexport { Pixy as default };","map":{"version":3,"sources":["C:\\Users\\cryst\\Desktop\\LuncatsNode\\LunacatsNodeServer\\public\\components\\Pixy.js"],"names":["React","fetch","Pixy","props","context","state","count","data","boxes","width","height","left","top","interval","setInterval","render","clearInterval","ip","then","resp","json","sendCmd","myJson","console","log","i","pixyBoxInfo","map","box","color","position","border","backgroundColor","zIndex","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport fetch from 'isomorphic-unfetch'\r\nexport default class Pixy extends React.Component {\r\n    constructor(props, context) {\r\n      super(props, context);\r\n  \r\n      this.state = {\r\n      \r\n      count: 0,\r\n      data: [],\r\n      boxes: [],\r\n      width: 0,\r\n      height: 0,\r\n      left: 0,\r\n      top: 0,\r\n    };\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.interval = setInterval(() => this.render(), 750);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      clearInterval(this.interval);\r\n    }\r\n  \r\n    //This sends a json string with just a cmd specified to the robot\r\n    sendCmd() {\r\n      const ip = \"http://localhost:3000/getPixyData\";\r\n      return  fetch(ip).then((resp) => resp.json()).then(function(data) {\r\n        return data;\r\n      })\r\n  \r\n    }\r\n  \r\n    async pixyBoxInfo() {\r\n      //const getPixyInfoCmd = 5;\r\n      let myJson = await this.sendCmd(); //extract JSON from the http response\r\n      //let myJson = JSON.parse('{\"C\": 3, \"H1\": 6, \"H2\": 4, \"S2\": 1, \"H0\": 39, \"S0\": 1, \"X2\": 291, \"W2\": 14, \"W1\": 14, \"W0\": 62, \"Y1\": 56, \"Y0\": 139, \"X0\": 283, \"X1\": 135, \"S1\": 1, \"Y2\": 112}');\r\n      //let myJson = JSON.parse('{\"C\": 1, \"H0\": 39, \"S0\": 1, \"W0\": 62, \"Y0\": 139, \"X0\": 283}');\r\n      console.log(myJson);\r\n      this.state.count = myJson[\"C\"];\r\n      \r\n      for (let i = 0; i < this.state.count; i++) {\r\n        this.state.width = myJson[\"W\" + i] / 320;\r\n        console.log(this.width);\r\n        this.state.height = myJson[\"H\" + i] / 200;\r\n        this.state.left = myJson[\"X\" + i] / 320 - this.width / 2;\r\n        this.state.top = myJson[\"Y\" + i] / 200 - this.height / 2;\r\n        this.state.data = [this.width, this.height, this.left, this.top];\r\n        this.state.boxes[i] = this.data;\r\n      }\r\n    }\r\n  \r\n    render() {\r\n      this.pixyBoxInfo();\r\n      console.log(\"rendering\");\r\n        return (\r\n        <div className=\"pixyView\">\r\n          <header id=\"lunaHeader\">•~•~•~•~•~•~•~•~•~ Pixy View ~•~•~•~•~•~•~•~•~•</header>\r\n          <div id=\"pixyViewBox\">{this.state.boxes.map((box, i) => {this.pixyBoxInfo();return (\r\n            <div style={{color: 'black',\r\n              position: 'absolute',\r\n              border: '1px solid black',\r\n              backgroundColor: '#f4f4f4',\r\n              zIndex: 99999999999999,\r\n              width: box[i][0] * 100 + '%',\r\n              height: box[i][1] * 100 + '%',\r\n              left: box[i][2] * 100 + '%',\r\n              top: this.state.boxes[i][3] * 100 + '%',}}>\r\n            </div>\r\n          )})}\r\n          </div>\r\n          <style jsx>{`\r\n                html, body {\r\n                  margin: 0;\r\n                  width: 100%;\r\n                  height: 100%;\r\n                  overflow-y: hidden;\r\n                }\r\n                #pixyView {\r\n                  width:100%; \r\n                  float:center; \r\n                  height: 25px;\r\n                  margin: 0px;\r\n                  position: relative;\r\n                }\r\n                #lunaHeader{\r\n                  color: rgb(206, 206, 206);\r\n                  width: 100%;\r\n                  height: 35px;\r\n                  background-color: #333333;\r\n                  font-size: 25px;\r\n                  text-align: center;\r\n                  border-bottom: solid black 1px;\r\n                  box-shadow: 0px 0px 5px #888888;\r\n                }\r\n                #pixyViewBox {\r\n                  width:100%; \r\n                  height: 315px;\r\n                  background: rgb(71, 68, 68);\r\n                  margin: 0px;\r\n                  position: relative;\r\n                }\r\n              `}</style>\r\n        </div>\r\n        \r\n      )\r\n      \r\n    }\r\n  }"]},"metadata":{},"sourceType":"module"}